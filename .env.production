# ============================================================================
# HealsFast USA - Production Environment Configuration
# ============================================================================
# Copy this file to .env and configure for your environment
# ============================================================================

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
NODE_ENV=production
APP_NAME=HealsFast USA
APP_VERSION=1.1.0

# ============================================================================
# BACKEND CONFIGURATION
# ============================================================================
# OpenMRS/Bahmni Backend Base URL
# Examples:
#   - Same VPS: https://clinic.healfastusa.org
#   - Different server: https://backend.healfastusa.org
#   - Local development: http://localhost:8080
BACKEND_BASE_URL=https://clinic.healfastusa.org

# Backend API endpoints (auto-constructed from BACKEND_BASE_URL)
# These are used by the frontend to connect to OpenMRS REST APIs
# Format: ${BACKEND_BASE_URL}/openmrs/ws/rest/v1
OPENMRS_REST_URL=${BACKEND_BASE_URL}/openmrs/ws/rest/v1
BAHMNI_REST_URL=${BACKEND_BASE_URL}/openmrs/ws/rest/v1/bahmnicore

# ============================================================================
# TIMEZONE CONFIGURATION
# ============================================================================
TZ=Africa/Lagos

# ============================================================================
# NGINX CONFIGURATION
# ============================================================================
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# ============================================================================
# DOCKER CONFIGURATION
# ============================================================================
# Container name
CONTAINER_NAME=healfast-usa-apps

# Port binding (bind to localhost only for security)
# Nginx reverse proxy will handle external access
APP_PORT=8091
APP_BIND_IP=127.0.0.1

# ============================================================================
# RESOURCE LIMITS
# ============================================================================
# CPU and Memory limits for Docker container
CPU_LIMIT=2.0
MEMORY_LIMIT=2G
CPU_RESERVATION=0.5
MEMORY_RESERVATION=512M

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL=info
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
# Enable/disable debug mode (ALWAYS false in production)
DEBUG_MODE=false

# Session timeout (minutes)
SESSION_TIMEOUT=30

# ============================================================================
# SSL/TLS CONFIGURATION (for Nginx reverse proxy)
# ============================================================================
# Domains for SSL certificates
SSL_DOMAINS=clinic.healfastusa.org,admin.healfastusa.org,staff.healfastusa.org

# Let's Encrypt email for SSL certificate notifications
SSL_EMAIL=admin@healfastusa.org

# ============================================================================
# OPTIONAL: DATABASE CONFIGURATION (if running backend on same VPS)
# ============================================================================
# Uncomment and configure if you're running the full Bahmni stack

# DB_HOST=bahmni-mysql
# DB_PORT=3306
# DB_DATABASE=openmrs
# DB_USERNAME=openmrs
# DB_PASSWORD=CHANGE_THIS_SECURE_PASSWORD
# MYSQL_ROOT_PASSWORD=CHANGE_THIS_ROOT_PASSWORD

# ============================================================================
# OPTIONAL: BACKUP CONFIGURATION
# ============================================================================
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30
# BACKUP_S3_BUCKET=healfast-usa-backups

# ============================================================================
# MONITORING & ALERTS
# ============================================================================
# MONITORING_ENABLED=false
# ALERT_EMAIL=alerts@healfastusa.org
# HEALTHCHECK_INTERVAL=30s

# ============================================================================
# NOTES
# ============================================================================
# 1. Never commit this file with real credentials to version control
# 2. Use strong passwords for all database credentials
# 3. Keep BACKEND_BASE_URL updated to match your backend server
# 4. Ensure SSL_DOMAINS match your DNS configuration
# 5. Review and adjust resource limits based on VPS capacity

